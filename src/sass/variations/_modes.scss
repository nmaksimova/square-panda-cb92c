@use "sass:map";
@use "../abstracts/functions";
@use "../abstracts/mixins";
@use "../abstracts/variables";

/**
 * Light/dark mode
 */
.mode-light {
	&.style-classic {
		.card--highlight {
			box-shadow: none;
	
			&:hover {
				box-shadow: 0 2px 30px variables.$color-classic-card-shadow;
			}
		}
	}

	&.style-bold {
		.card {
			border-color: variables.$color-bold-card-border;
		}

		.site-header {
			border-color: variables.$color-bold-header-border;
		}

		.site-footer__nav,
		.site-footer__info {
			border-color: variables.$color-bold-footer-border;
		}

		.nav-overlay {
			background: variables.$color-bold-nav-mobile-overlay;
		}

		@include mixins.media-breakpoint-down(md) {
			.navbar__menu {
				border-color: variables.$color-bold-nav-mobile-border;
			}
		}

		&.layout-boxed {
			@media (min-width: 1401px) {
				.site {
					border-color: variables.$color-bold-boxed-border;
				}
			}
		}

		.announcement-bar {
			background: variables.$color-bold-anncmnt-bg;
			color: variables.$color-bold-anncmnt-text;
		}

		.section {
			&.has-border {
				border-color: variables.$color-bold-sect-border;
			}
		}
	}

	.bg-primary {
		color: variables.$color-primary-sect-text;

		pre,
		th {
			background: 0;
		}

		.btn--primary {
			background-color: variables.$color-primary-sect-btn-bg;
			color: variables.$color-primary-sect-btn-text;
		}
	}

	.bg-secondary {
		pre {
			border-color: variables.$color-secondary-sect-code-border;
		}

		table,
		th,
		td {
			border-color: variables.$color-secondary-sect-table-border;
		}

		hr {
			background-color: variables.$color-secondary-sect-hr-border;
		}
	}

	.bg-primary,
	.bg-secondary {
		input[type="text"],
		input[type="password"],
		input[type="email"],
		input[type="tel"],
		input[type="number"],
		input[type="search"],
		input[type="url"],
		select,
		textarea {
			background-color: variables.$color-sect-input-bg;
			border: 0;
		}
	}

	&.style-classic,
	&.style-bold {
		.bg-secondary {
			pre {
				background-color: variables.$color-secondary-sect-code-bg;
			}

			th {
				background-color: variables.$color-secondary-sect-table-bg;
			}
		}
	}

	.card {
		background-color: variables.$color-card-bg;
		color: variables.$color-card-text;

		hr {
			background-color: variables.$color-hr-border;
		}

		.btn--primary {
			background-color: variables.$color-btn-bg;
			color: variables.$color-btn-text;
		}

		input[type="text"],
		input[type="password"],
		input[type="email"],
		input[type="tel"],
		input[type="number"],
		input[type="search"],
		input[type="url"],
		select,
		textarea {
			background-color: variables.$color-input-bg;
			border: 1px solid variables.$color-input-border;
		}
	}

	&.style-classic {
		.card {
			pre {
				background-color: variables.$color-code-bg;
				border-color: variables.$color-code-border;
			}

			th {
				background-color: variables.$color-table-bg;
			}

			table,
			th,
			td {
				border-color: variables.$color-table-border;
			}

			input[type="text"],
			input[type="password"],
			input[type="email"],
			input[type="tel"],
			input[type="number"],
			input[type="search"],
			input[type="url"],
			select,
			textarea {
				background: variables.$color-classic-input-bg;
			}
		}
	}

	&.style-bold {
		.card {
			pre {
				background-color: variables.$color-bold-code-bg;
			}

			th {
				background-color: variables.$color-bold-table-bg;
			}

			table,
			th,
			td {
				border-color: variables.$color-table-border;
			}

			input[type="text"],
			input[type="password"],
			input[type="email"],
			input[type="tel"],
			input[type="number"],
			input[type="search"],
			input[type="url"],
			select,
			textarea {
				background: variables.$color-bold-input-bg;
				border-color: transparent;
			}
		}
	}
}

.mode-dark {
	background-color: variables.$color-dark-body-bg;
	color: variables.$color-dark-body-text;

	&.layout-boxed {
		background-color: variables.$color-dark-boxed-bg;

		.site {
			background-color: variables.$color-dark-body-bg;
		}

		@media (min-width: 1401px) {
			.site {
				border-color: variables.$color-dark-boxed-border;
			}
		}
	}

	mark,
	ins {
		background-color: variables.$color-dark-highlight-bg;
		color: variables.$color-dark-highlight-text;
	}

	pre {
		border-color: variables.$color-dark-code-border;
	}

	&.style-classic {
		pre {
			background-color: variables.$color-dark-code-bg;
		}
	}

	&.style-bold {
		pre {
			background-color: variables.$color-dark-bold-code-bg;
		}
	}

	hr {
		background-color: variables.$color-dark-hr-border;
	}

	table {
		border-color: variables.$color-dark-table-border;
	}

	th,
	td {
		border-color: variables.$color-dark-table-border;
	}

	&.style-classic {
		th {
			background-color: variables.$color-dark-table-bg;
		}
	}

	&.style-bold {
		th {
			background-color: variables.$color-dark-bold-table-bg;
		}
	}

	input[type="text"],
	input[type="password"],
	input[type="email"],
	input[type="tel"],
	input[type="number"],
	input[type="search"],
	input[type="url"],
	select,
	textarea {
		background: variables.$color-dark-input-bg;
		border-color: transparent;
		color: variables.$color-dark-input-text;
	}

	.form-select {
		color: variables.$color-dark-input-text;
	}

	&.style-bold {
		.btn--primary,
		.btn--secondary {
			box-shadow: 0.375em 0.375em 0 0 variables.$color-dark-bold-btn-shadow;
	
			&:hover,
			&:focus,
			&:active {
				box-shadow: 0 0 0 0 variables.$color-dark-bold-btn-shadow;
			}
		}
	}

	.menu__item {
		color: variables.$color-dark-nav-link-text;
	}

	.site-header {
		border-color: variables.$color-dark-header-border;
	}

	.nav-overlay {
		background: variables.$color-dark-nav-mobile-overlay;
	}

	@include mixins.media-breakpoint-down(md) {
		.navbar__container {
			background-color: variables.$color-dark-nav-mobile-bg;
		}

		.navbar__menu {
			border-color: variables.$color-dark-nav-mobile-border;
		}
	}

	.site-footer__nav,
	.site-footer__info {
		border-color: variables.$color-dark-footer-border;
	}

	.announcement-bar {
		background: variables.$color-dark-anncmnt-bg;
		position: relative;
	}

	.section {
		&.has-border {
			border-color: variables.$color-dark-sect-border;
		}
	}

	.bg-primary {
		pre,
		th {
			background: 0;
		}

		pre,
		table,
		th,
		td {
			border-color: currentColor;
		}

		hr {
			background-color: currentColor;
		}

		.btn--primary {
			background-color: variables.$color-dark-primary-sect-btn-bg;
			color: variables.$color-dark-primary-sect-btn-text;
		}

		.btn--secondary {
			background-color: variables.$color-dark-primary-sect-btn-alt-bg;
		}
	}

	.bg-secondary {
		background: variables.$color-dark-secondary-sect-bg;
	}

	.card {
		background-color: variables.$color-dark-card-bg;
		border-color: variables.$color-dark-card-border;
	
		pre {
			border-color: variables.$color-dark-code-border;
		}

		hr {
			background-color: variables.$color-dark-hr-border;
		}
	
		table {
			border-color: variables.$color-dark-table-border;
		}
	
		th,
		td {
			border-color: variables.$color-dark-table-border;
		}

		.btn--primary {
			background-color: variables.$color-btn-bg;
			color: variables.$color-btn-text;
		}

		.btn--secondary {
			background-color: variables.$color-btn-alt-bg;
		}
	}

	&.style-classic {
		.card {
			pre {
				background-color: variables.$color-dark-code-bg;
			}

			th {
				background-color: variables.$color-dark-table-bg;
			}
		}
	}

	&.style-bold {
		.card {
			pre {
				background-color: variables.$color-dark-bold-code-bg;
			}

			th {
				background-color: variables.$color-dark-bold-table-bg;
			}
		}
	}
}

@each $style in map.keys(variables.$theme-styles) {
	$style-suffix: "#{$style}";
	$colors: functions.map-deep-get(variables.$theme-styles, $style, "colors");
	@each $color, $value in $colors {
		$color-suffix: "#{$color}";
	
		.style-#{$style-suffix} {
			&.palette-#{$color-suffix} {
				.card {
					.btn--primary {
						background-color: $value;
					}
				}
			}
		}
	}
}
